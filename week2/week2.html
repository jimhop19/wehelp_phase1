<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>week2</h1>

<script>
//1
console.log("---task1---")
    function findAndPrint(messages){
// write down your judgment rules in comments

// rule1: 18>17 (older than 17)
// rule2: college student (probably older than 18, but there's someone who skips a grade)
// rule3: legal age in Taiwan (age:18)
// rule4: vote in U.S.A (age:18)

// your code here, based on your own rules        
        let obj = messages
        let nameList = Object.getOwnPropertyNames(messages);
        for( let i = 0; i < nameList.length; i++){
            let name = nameList[i]
            if(obj[name].includes("18 years old") === true || 
            obj[name].includes("legal age in Taiwan") === true || obj[name].includes("vote for Donald Trump") === true ){
                console.log(name)
            }
        }
     
        
} 
findAndPrint({
    "Bob":"My name is Bob. I'm 18 years old.",
    "Mary":"Hello, glad to meet you.",
    "Copper":"I'm a college student. Nice to meet you.", "Leslie":"I am of legal age in Taiwan.",
    "Vivian":"I will vote for Donald Trump next week",
    "Jenny":"Good morning." });

//2
console.log("---task2---") 

function calculateSumOfBonus(data){
// write down your bonus rule in comments
// bonus = salary *x *y 
// x depends on salary range (salary higher than 40000, x=0.1 ; salary lower than 40000, x = 0.2)
// y depends on performance (above average, y=0.8 ; averge, y=0.5 ; below average, y=0.2)
// z depends on role (CEO, z=1.1 ; other job titles, z=1)

// your code here, based on your own rules
    let bonusSum = 0;
    let x = 0;
    let y = 0;
    let z = 0;
    //format salary type
    for (let i = 0; i < data.employees.length; i++){
        let salary = data.employees[i].salary
        //remove ","
        if (typeof salary == "string" && salary.includes(",")){
            data.employees[i].salary = parseInt(salary.replace(",",""));
        }
        //change USD to TWD
        else if(typeof salary == "string" && salary.includes("USD")){
        data.employees[i].salary = 30*parseInt(data.employees[i].salary);
        }
    }
    

    for (let j= 0; j < data.employees.length; j++){
        //salary
        if(data.employees[j].salary >= 40000){
            x = 0.1;
        }else{
            x = 0.2;
        }
        //performance
        if(data.employees[j].performance === "above average"){
            y = 0.8;
        }else if(data.employees[j].performance === "average"){
            y = 0.5;
        }else{
            y = 0.2;
        }
        //role
        if(data.employees[j].role === "CEO"){
            z = 1.1;
        }else{
            z = 1;
        }

        // console.log(data.employees[j].salary *x *y)
        bonusSum += data.employees[j].salary *x *y *z
        // console.log(data.employees[j].salary *x *y)
    }
    console.log(bonusSum)
    

} 
calculateSumOfBonus({
    "employees":[ 
        {
            "name":"John",
            "salary":"1000USD", 
            "performance":"above average",
            "role":"Engineer"
        }, 
        {
            "name":"Bob", 
            "salary":60000, 
            "performance":"average", 
            "role":"CEO"
        }, 
        {
            "name":"Jenny", 
            "salary":"50,000", 
            "performance":"below average", 
            "role":"Sales"
        } 
    ]
}); // call calculateSumOfBonus function



//3
console.log("---task3---")

function func(...data){
// your code here
    let array = data
    let middleName = [];
    let result = ""
    //new array with second characters of names
    for(let i = 0; i < array.length; i++){
        middleName.push(array[i][1])
    }
    //check if the word is unique
    for(let j = 0; j < middleName.length; j++){
        //indexOf() starts from the beginning of the array
        //Condition1: check if there is any same word before j (if there's no same word before j, then indexOf() function will find j as result)
        //Condition2: && check if there is any same word after j
        //Then, j is the unique word
        if(middleName.indexOf(middleName[j]) == j && middleName.indexOf(middleName[j], j+1 ) == -1  ){
            result = array[j]
            console.log(result)
        }
    }   
    if (result === ""){
        console.log("沒有")
    }
       
}
func("彭大牆", "王明雅", "吳明"); 
// print 彭大牆
func("郭靜雅", "王立強", "林靜宜", "郭立恆", "林花花"); 
// print 林花花 
func("郭宣雅", "林靜宜", "郭宣恆", "林靜花"); 
// print 沒有

//4
console.log("---task4---")

function getNumber(index){
// your code here
    let number = 0
    if(index == 0){
        number = 0;
    }else if (index%2 == 0){
        number += 3*(index/2);
    }else {
        number += 1 + 3*((index+1)/2);
    }
        
        console.log(number);
        
}

getNumber(1); // print 4 
getNumber(5); // print 10 
getNumber(10); // print 15
</script>

</body>
</html>